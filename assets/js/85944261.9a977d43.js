"use strict";(self.webpackChunktapwork_docs=self.webpackChunktapwork_docs||[]).push([[3232],{9606:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>c,default:()=>h,frontMatter:()=>l,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"architecture/system-overview","title":"System Architecture","description":"This document provides a high-level overview of the TAPWORK system architecture, including its core components and their interactions.","source":"@site/docs/architecture/system-overview.md","sourceDirName":"architecture","slug":"/architecture/system-overview","permalink":"/tapwork-docs/architecture/system-overview","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"Project Phases","permalink":"/tapwork-docs/rf/phases"},"next":{"title":"Contributing","permalink":"/tapwork-docs/CONTRIBUTING"}}');var r=i(4848),t=i(8453);const l={},c="System Architecture",a={},d=[{value:"Architecture Diagram",id:"architecture-diagram",level:2},{value:"Architecture Overview",id:"architecture-overview",level:2},{value:"Key Architectural Principles",id:"key-architectural-principles",level:3},{value:"System Layers",id:"system-layers",level:2},{value:"1. Client Layer",id:"1-client-layer",level:3},{value:"2. Frontend Layer",id:"2-frontend-layer",level:3},{value:"3. Backend Services Layer",id:"3-backend-services-layer",level:3},{value:"API Service (FastAPI)",id:"api-service-fastapi",level:4},{value:"PostgreSQL Database",id:"postgresql-database",level:4},{value:"SMTP Service",id:"smtp-service",level:4},{value:"Biometric Service (Optional)",id:"biometric-service-optional",level:4},{value:"Component Interactions",id:"component-interactions",level:2},{value:"Standard Attendance Flow",id:"standard-attendance-flow",level:3},{value:"Admin Management Flow",id:"admin-management-flow",level:3},{value:"Optional Biometric Flow",id:"optional-biometric-flow",level:3},{value:"Communication Protocols",id:"communication-protocols",level:2},{value:"Client Layer",id:"client-layer",level:3},{value:"Frontend Layer",id:"frontend-layer",level:3},{value:"Backend Services",id:"backend-services",level:3},{value:"Data Flow",id:"data-flow",level:2},{value:"Component Details",id:"component-details",level:2},{value:"Design Principles",id:"design-principles",level:2},{value:"Deployment Architecture",id:"deployment-architecture",level:2},{value:"Future Enhancements",id:"future-enhancements",level:2},{value:"Technology Stack",id:"technology-stack",level:2},{value:"Frontend",id:"frontend",level:3},{value:"Backend",id:"backend",level:3},{value:"Infrastructure",id:"infrastructure",level:3},{value:"Security Considerations",id:"security-considerations",level:2}];function o(e){const n={admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",mermaid:"mermaid",ol:"ol",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"system-architecture",children:"System Architecture"})}),"\n",(0,r.jsx)(n.p,{children:"This document provides a high-level overview of the TAPWORK system architecture, including its core components and their interactions."}),"\n",(0,r.jsx)(n.admonition,{title:"Optional Biometric Service",type:"info",children:(0,r.jsxs)(n.p,{children:["The biometric module is included as an ",(0,r.jsx)(n.strong,{children:"optional service"})," to support future enhancements without affecting current functionality. The system operates fully without it."]})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"architecture-diagram",children:"Architecture Diagram"}),"\n",(0,r.jsx)(n.mermaid,{value:'flowchart TB\r\n    %% Styling with proper contrast for both light and dark modes\r\n    classDef clientStyle fill:#0288d1,stroke:#01579b,stroke-width:3px,color:#fff\r\n    classDef frontendStyle fill:#f57c00,stroke:#e65100,stroke-width:3px,color:#fff\r\n    classDef backendStyle fill:#7b1fa2,stroke:#4a148c,stroke-width:3px,color:#fff\r\n    classDef dbStyle fill:#388e3c,stroke:#1b5e20,stroke-width:3px,color:#fff\r\n    classDef optionalStyle fill:#c2185b,stroke:#880e4f,stroke-width:3px,stroke-dasharray:5 5,color:#fff\r\n\r\n    %% Client Layer\r\n    subgraph Client["\ud83d\udc65 Client Layer"]\r\n        direction LR\r\n        U[Employee/User]\r\n        A[Admin/HR Portal]\r\n    end\r\n\r\n    %% Frontend Layer\r\n    subgraph Frontend["\ud83d\udcf1 Frontend Layer"]\r\n        SC[Scanner Application<br/>Camera + JavaScript]\r\n    end\r\n\r\n    %% Backend Layer\r\n    subgraph Backend["\u2699\ufe0f Backend Services<br/>Docker/Kubernetes"]\r\n        direction TB\r\n        API[API Service<br/>FastAPI]\r\n        DB[(PostgreSQL<br/>Database)]\r\n        SMTP[SMTP Service<br/>Mailhog/SMTP Server]\r\n        \r\n        subgraph Optional["\ud83d\udd2e Optional Services"]\r\n            BIO[Biometric Service<br/>Face/Fingerprint]\r\n        end\r\n    end\r\n\r\n    %% Connections\r\n    U --\x3e|Access Scanner| SC\r\n    A --\x3e|Manage System| API\r\n    \r\n    SC --\x3e|POST /attendance<br/>QR Scan Data| API\r\n    SC -.->|Optional:<br/>Biometric Capture| BIO\r\n    \r\n    API --\x3e|Store Records| DB\r\n    API --\x3e|Send Notifications| SMTP\r\n    BIO -.->|Validate Identity| API\r\n\r\n    %% Apply Styles\r\n    class U,A clientStyle\r\n    class SC frontendStyle\r\n    class API,SMTP backendStyle\r\n    class DB dbStyle\r\n    class BIO optionalStyle'}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"architecture-overview",children:"Architecture Overview"}),"\n",(0,r.jsxs)(n.p,{children:["The TAPWORK system follows a ",(0,r.jsx)(n.strong,{children:"three-tier architecture"})," designed for scalability, maintainability, and future extensibility. The architecture separates concerns into distinct layers, each with specific responsibilities and clear interfaces between them."]}),"\n",(0,r.jsx)(n.h3,{id:"key-architectural-principles",children:"Key Architectural Principles"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"1. Separation of Concerns"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Each layer has a well-defined responsibility"}),"\n",(0,r.jsx)(n.li,{children:"Changes in one layer minimally impact others"}),"\n",(0,r.jsx)(n.li,{children:"Clear API contracts between layers"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"2. Scalability"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Stateless API design allows horizontal scaling"}),"\n",(0,r.jsx)(n.li,{children:"Database connection pooling optimizes resource usage"}),"\n",(0,r.jsx)(n.li,{children:"Container orchestration (Kubernetes) enables dynamic scaling"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"3. Extensibility"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Optional services (like biometrics) can be added without system redesign"}),"\n",(0,r.jsx)(n.li,{children:"Plugin architecture allows new features to be integrated seamlessly"}),"\n",(0,r.jsx)(n.li,{children:"API-first design enables multiple client implementations"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"4. Security by Design"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Authentication handled at API gateway level"}),"\n",(0,r.jsx)(n.li,{children:"Role-based access control (RBAC) for all endpoints"}),"\n",(0,r.jsx)(n.li,{children:"Encrypted data in transit and at rest"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"system-layers",children:"System Layers"}),"\n",(0,r.jsx)(n.h3,{id:"1-client-layer",children:"1. Client Layer"}),"\n",(0,r.jsx)(n.p,{children:"The client layer represents the users who interact with the TAPWORK system through different interfaces:"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Employee/User Interface"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Primary users who record their attendance"}),"\n",(0,r.jsx)(n.li,{children:"Access the system via mobile devices or desktop browsers"}),"\n",(0,r.jsx)(n.li,{children:"Interact primarily with the Scanner Application"}),"\n",(0,r.jsx)(n.li,{children:"Typical actions: clock in/out, view personal attendance history"}),"\n",(0,r.jsx)(n.li,{children:"No special permissions required - read-only access to own data"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Admin/HR Portal"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Management interface for HR personnel and administrators"}),"\n",(0,r.jsx)(n.li,{children:"Access to system-wide data and configurations"}),"\n",(0,r.jsx)(n.li,{children:"Typical actions: manage employees, generate reports, configure system settings, monitor attendance"}),"\n",(0,r.jsx)(n.li,{children:"Requires elevated permissions with role-based access control"}),"\n",(0,r.jsx)(n.li,{children:"Can manage user accounts, attendance policies, and system parameters"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"2-frontend-layer",children:"2. Frontend Layer"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Scanner Application"})}),"\n",(0,r.jsx)(n.p,{children:"The Scanner Application is a progressive web app (PWA) that serves as the primary employee interface:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Technology Stack"}),": Built with modern JavaScript frameworks (React/Vue.js)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Camera Integration"}),": Uses WebRTC MediaDevices API to access device camera"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"QR Code Processing"}),": Real-time QR code detection and validation"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Offline Capability"}),": Service Workers enable basic functionality without internet"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Responsive Design"}),": Works seamlessly on mobile phones, tablets, and desktop computers"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"User Experience"}),": Simple, intuitive interface requiring minimal training"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Key Features"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Real-time camera preview for QR scanning"}),"\n",(0,r.jsx)(n.li,{children:"Instant feedback on successful/failed scans"}),"\n",(0,r.jsx)(n.li,{children:"Error handling and user guidance"}),"\n",(0,r.jsx)(n.li,{children:"Local caching for improved performance"}),"\n",(0,r.jsx)(n.li,{children:"Automatic retry logic for failed submissions"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"3-backend-services-layer",children:"3. Backend Services Layer"}),"\n",(0,r.jsx)(n.p,{children:"The backend layer runs on containerized infrastructure (Docker/Kubernetes) and consists of several microservices:"}),"\n",(0,r.jsx)(n.h4,{id:"api-service-fastapi",children:"API Service (FastAPI)"}),"\n",(0,r.jsx)(n.p,{children:"The core of the system, responsible for all business logic:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Request Handling"}),": Processes all HTTP requests from clients"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Authentication"}),": JWT-based token validation for secure access"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Authorization"}),": Role-based access control (RBAC) implementation"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Data Validation"}),": Input sanitization and validation using Pydantic models"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Business Logic"}),": Attendance rules, overtime calculations, late/early detection"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Integration Hub"}),": Coordinates between database, SMTP, and optional services"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Key Endpoints"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"POST /attendance"})," - Record new attendance entry"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"GET /attendance/{id}"})," - Retrieve attendance records"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"GET /reports"})," - Generate attendance reports"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"POST /auth/login"})," - User authentication"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"GET /employees"})," - Employee management (admin only)"]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"postgresql-database",children:"PostgreSQL Database"}),"\n",(0,r.jsx)(n.p,{children:"Relational database providing persistent storage:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Data Models"}),": Employees, Attendance Records, Shifts, Departments, Roles"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Relationships"}),": Foreign keys maintain data integrity"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Indexing"}),": Optimized indexes for fast querying"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Transactions"}),": ACID compliance ensures data consistency"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Backups"}),": Automated daily backups with point-in-time recovery"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Performance"}),": Connection pooling and query optimization"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Key Tables"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"employees"})," - Employee information and credentials"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"attendance_records"})," - All check-in/check-out records"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"shifts"})," - Work shift definitions"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"departments"})," - Organizational structure"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"audit_logs"})," - System activity tracking"]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"smtp-service",children:"SMTP Service"}),"\n",(0,r.jsx)(n.p,{children:"Email notification system for automated communications:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Development Environment"}),": Uses Mailhog for email testing without sending real emails"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Production Environment"}),": Configurable SMTP server (SendGrid, Amazon SES, etc.)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Notification Types"}),":","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Attendance confirmations"}),"\n",(0,r.jsx)(n.li,{children:"Late arrival alerts"}),"\n",(0,r.jsx)(n.li,{children:"Missing clock-out reminders"}),"\n",(0,r.jsx)(n.li,{children:"Weekly/monthly reports"}),"\n",(0,r.jsx)(n.li,{children:"System alerts for administrators"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Template System"}),": HTML email templates with dynamic content"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Queue Management"}),": Asynchronous email sending to prevent blocking"]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"biometric-service-optional",children:"Biometric Service (Optional)"}),"\n",(0,r.jsx)(n.p,{children:"Future-ready module for enhanced identity verification:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Purpose"}),": Adds an additional layer of security beyond QR codes"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Technologies"}),": Face recognition, fingerprint scanning"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Integration"}),": Loosely coupled via API calls"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Activation"}),": Can be enabled/disabled per location or employee group"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Privacy"}),": Compliant with biometric data regulations (GDPR, BIPA)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Fallback"}),": System continues working if biometric validation is unavailable"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Implementation Status"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Currently in planning phase"}),"\n",(0,r.jsx)(n.li,{children:"Architecture supports seamless integration"}),"\n",(0,r.jsx)(n.li,{children:"Will not disrupt existing functionality when added"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"component-interactions",children:"Component Interactions"}),"\n",(0,r.jsx)(n.h3,{id:"standard-attendance-flow",children:"Standard Attendance Flow"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Employee Authentication"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Employee opens Scanner Application"}),"\n",(0,r.jsx)(n.li,{children:"May require initial login (cached for subsequent uses)"}),"\n",(0,r.jsx)(n.li,{children:"Scanner App receives authentication token"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"QR Code Scanning"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Camera activates and displays live preview"}),"\n",(0,r.jsx)(n.li,{children:"Employee presents their personal QR code"}),"\n",(0,r.jsx)(n.li,{children:"Scanner detects and decodes QR data"}),"\n",(0,r.jsx)(n.li,{children:"Client-side validation ensures QR format is correct"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Attendance Submission"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Scanner App sends POST request to ",(0,r.jsx)(n.code,{children:"/attendance"})," endpoint"]}),"\n",(0,r.jsx)(n.li,{children:"Request includes: QR data, timestamp, device info, location (if available)"}),"\n",(0,r.jsx)(n.li,{children:"API validates authentication token"}),"\n",(0,r.jsx)(n.li,{children:"API verifies QR code authenticity"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Business Logic Processing"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"API checks if employee exists and is active"}),"\n",(0,r.jsx)(n.li,{children:"Determines if action is clock-in or clock-out"}),"\n",(0,r.jsx)(n.li,{children:"Validates against shift schedule"}),"\n",(0,r.jsx)(n.li,{children:"Detects late arrival, early departure, or overtime"}),"\n",(0,r.jsx)(n.li,{children:"Applies attendance policies (grace periods, rounding rules)"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Data Persistence"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Validated attendance record saved to PostgreSQL"}),"\n",(0,r.jsx)(n.li,{children:"Transaction ensures atomic operation"}),"\n",(0,r.jsx)(n.li,{children:"Database triggers may update related tables"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Confirmation & Notification"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Success response sent to Scanner App"}),"\n",(0,r.jsx)(n.li,{children:"User sees confirmation message"}),"\n",(0,r.jsx)(n.li,{children:"Optional email confirmation queued in SMTP service"}),"\n",(0,r.jsx)(n.li,{children:"Admin dashboard updates in real-time (if monitoring)"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"admin-management-flow",children:"Admin Management Flow"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Admin Authentication"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Admin logs into HR Portal"}),"\n",(0,r.jsx)(n.li,{children:"Higher-level permissions granted based on role"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"System Management"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"View real-time attendance dashboard"}),"\n",(0,r.jsx)(n.li,{children:"Generate custom reports"}),"\n",(0,r.jsx)(n.li,{children:"Manage employee accounts"}),"\n",(0,r.jsx)(n.li,{children:"Configure system settings"}),"\n",(0,r.jsx)(n.li,{children:"Review audit logs"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Data Retrieval"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"API queries PostgreSQL with appropriate filters"}),"\n",(0,r.jsx)(n.li,{children:"Results formatted and returned to portal"}),"\n",(0,r.jsx)(n.li,{children:"Large datasets paginated for performance"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"optional-biometric-flow",children:"Optional Biometric Flow"}),"\n",(0,r.jsx)(n.p,{children:"When enabled, adds an additional verification step:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Scanner App captures biometric data (face image or fingerprint)"}),"\n",(0,r.jsx)(n.li,{children:"Data sent to Biometric Service via secure channel"}),"\n",(0,r.jsx)(n.li,{children:"Service performs identity verification"}),"\n",(0,r.jsx)(n.li,{children:"Result returned to API Service"}),"\n",(0,r.jsx)(n.li,{children:"API proceeds with attendance recording only if verified"}),"\n",(0,r.jsx)(n.li,{children:"Fallback to QR-only mode if biometric service unavailable"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"communication-protocols",children:"Communication Protocols"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Client \u2194 API"}),": HTTPS/REST (JSON payloads)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"API \u2194 Database"}),": PostgreSQL wire protocol (encrypted connection)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"API \u2194 SMTP"}),": SMTP/TLS for secure email transmission"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"API \u2194 Biometric Service"}),": HTTPS/REST (when enabled)"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"All inter-service communication uses encrypted channels and authentication tokens to ensure security."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"client-layer",children:"Client Layer"}),"\n",(0,r.jsx)(n.p,{children:"The client layer represents the end-users interacting with the system:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Employee/User"}),": End-users who clock in/out using the scanner interface"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Admin/HR Portal"}),": Administrative dashboard for system management, reporting, and configuration"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"frontend-layer",children:"Frontend Layer"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Scanner Application"}),": Browser-based progressive web app (PWA) that captures QR codes using the device camera and JavaScript. Provides a responsive interface for both mobile and desktop devices."]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"backend-services",children:"Backend Services"}),"\n",(0,r.jsx)(n.p,{children:"The backend runs on Docker/Kubernetes and includes:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"API Service (FastAPI)"}),": Core REST API handling all business logic, authentication, and data validation"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"PostgreSQL Database"}),": Relational database for persistent storage of attendance records, user data, and system configuration"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"SMTP Service"}),": Email notification system (development environment uses Mailhog for testing)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Biometric Service"})," ",(0,r.jsx)(n.em,{children:"(Optional)"}),": Future-ready module for face recognition or fingerprint validation"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"data-flow",children:"Data Flow"}),"\n",(0,r.jsx)(n.p,{children:"The typical attendance recording flow follows these steps:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Access"}),": Employee opens the scanner application via web browser"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Scan"}),": User scans their personal QR code using the device camera"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Validation"})," ",(0,r.jsx)(n.em,{children:"(Optional)"}),": Biometric validation can be performed if enabled"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Processing"}),": API receives the request via ",(0,r.jsx)(n.code,{children:"POST /attendance"})," endpoint"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Storage"}),": Validated attendance record is stored in PostgreSQL"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Notification"}),": Email confirmation sent via SMTP service (if configured)"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"component-details",children:"Component Details"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Component"}),(0,r.jsx)(n.th,{children:"Technology"}),(0,r.jsx)(n.th,{children:"Purpose"}),(0,r.jsx)(n.th,{children:"Status"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Scanner App"}),(0,r.jsx)(n.td,{children:"JavaScript/PWA"}),(0,r.jsx)(n.td,{children:"QR code capture and submission"}),(0,r.jsx)(n.td,{children:"\u2705 Active"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"API Service"}),(0,r.jsx)(n.td,{children:"FastAPI (Python)"}),(0,r.jsx)(n.td,{children:"Business logic and data processing"}),(0,r.jsx)(n.td,{children:"\u2705 Active"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Database"}),(0,r.jsx)(n.td,{children:"PostgreSQL"}),(0,r.jsx)(n.td,{children:"Persistent data storage"}),(0,r.jsx)(n.td,{children:"\u2705 Active"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"SMTP Service"}),(0,r.jsx)(n.td,{children:"Mailhog/SMTP"}),(0,r.jsx)(n.td,{children:"Email notifications"}),(0,r.jsx)(n.td,{children:"\u2705 Active"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Biometric Service"}),(0,r.jsx)(n.td,{children:"TBD"}),(0,r.jsx)(n.td,{children:"Identity validation"}),(0,r.jsx)(n.td,{children:"\ud83d\udd04 Optional"})]})]})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"design-principles",children:"Design Principles"}),"\n",(0,r.jsx)(n.p,{children:"The TAPWORK architecture follows these key principles:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Modularity"}),": Each component can be developed, tested, and scaled independently"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Extensibility"}),": New features (like biometrics) can be added without breaking existing functionality"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Containerization"}),": Docker/Kubernetes deployment ensures consistency across environments"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"API-First"}),": Clear separation between frontend and backend enables multiple client implementations"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Security"}),": Authentication and authorization handled at the API layer"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Scalability"}),": Horizontal scaling supported for all stateless services"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"deployment-architecture",children:"Deployment Architecture"}),"\n",(0,r.jsx)(n.mermaid,{value:'flowchart LR\r\n    subgraph Cloud["\u2601\ufe0f Cloud Infrastructure"]\r\n        subgraph K8s["\u2388 Kubernetes Cluster"]\r\n            API1[API Pod 1]\r\n            API2[API Pod 2]\r\n            APIn[API Pod n]\r\n            \r\n            SMTP1[SMTP Pod]\r\n            BIO1[Biometric Pod]\r\n        end\r\n        \r\n        LB[\u2696\ufe0f Load Balancer]\r\n        DB[(\ud83d\uddc4\ufe0f PostgreSQL<br/>Managed Service)]\r\n    end\r\n    \r\n    Users[\ud83d\udc65 Users] --\x3e|HTTPS| LB\r\n    LB --\x3e API1\r\n    LB --\x3e API2\r\n    LB --\x3e APIn\r\n    \r\n    API1 --\x3e DB\r\n    API2 --\x3e DB\r\n    APIn --\x3e DB\r\n    \r\n    API1 --\x3e SMTP1\r\n    API2 --\x3e SMTP1\r\n    \r\n    API1 -.-> BIO1\r\n    API2 -.-> BIO1\r\n    \r\n    classDef userStyle fill:#0288d1,stroke:#01579b,stroke-width:3px,color:#fff\r\n    classDef lbStyle fill:#f57c00,stroke:#e65100,stroke-width:3px,color:#fff\r\n    classDef podStyle fill:#7b1fa2,stroke:#4a148c,stroke-width:3px,color:#fff\r\n    classDef dbStyle fill:#388e3c,stroke:#1b5e20,stroke-width:3px,color:#fff\r\n    classDef optionalStyle fill:#c2185b,stroke:#880e4f,stroke-width:3px,stroke-dasharray:5 5,color:#fff\r\n    \r\n    class Users userStyle\r\n    class LB lbStyle\r\n    class API1,API2,APIn,SMTP1 podStyle\r\n    class DB dbStyle\r\n    class BIO1 optionalStyle'}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"future-enhancements",children:"Future Enhancements"}),"\n",(0,r.jsx)(n.p,{children:"The architecture is designed to support the following planned features:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u2705 Biometric authentication (facial recognition and fingerprint scanning)"}),"\n",(0,r.jsx)(n.li,{children:"\u2705 Multi-location deployment with centralized management"}),"\n",(0,r.jsx)(n.li,{children:"\u2705 Real-time attendance monitoring dashboards"}),"\n",(0,r.jsx)(n.li,{children:"\u2705 Advanced analytics and reporting capabilities"}),"\n",(0,r.jsx)(n.li,{children:"\u2705 Native mobile applications (iOS/Android)"}),"\n",(0,r.jsx)(n.li,{children:"\u2705 Third-party HR system integrations (SAP, Workday, etc.)"}),"\n",(0,r.jsx)(n.li,{children:"\u2705 Offline mode with automatic synchronization"}),"\n",(0,r.jsx)(n.li,{children:"\u2705 Geofencing for location-based attendance validation"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"technology-stack",children:"Technology Stack"}),"\n",(0,r.jsx)(n.h3,{id:"frontend",children:"Frontend"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Framework"}),": React/Vue.js"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"PWA"}),": Service Workers for offline capability"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Camera Access"}),": WebRTC MediaDevices API"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"QR Processing"}),": jsQR or similar library"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"backend",children:"Backend"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"API Framework"}),": FastAPI (Python 3.11+)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"ORM"}),": SQLAlchemy"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Authentication"}),": JWT tokens"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Validation"}),": Pydantic models"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"infrastructure",children:"Infrastructure"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Container Runtime"}),": Docker"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Orchestration"}),": Kubernetes"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Database"}),": PostgreSQL 15+"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Email"}),": SMTP/Mailhog"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Reverse Proxy"}),": Nginx/Traefik"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"security-considerations",children:"Security Considerations"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Authentication"}),": JWT-based authentication for all API requests"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Authorization"}),": Role-based access control (RBAC)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Data Encryption"}),": TLS/SSL for data in transit, encryption at rest for sensitive data"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"API Rate Limiting"}),": Protection against abuse and DoS attacks"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Input Validation"}),": Strict validation of all user inputs"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Audit Logging"}),": Comprehensive logging of all system actions"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.admonition,{type:"note",children:(0,r.jsx)(n.p,{children:"The biometric service is shown with dashed lines in the diagrams to indicate its optional nature. The system is fully functional without this component and can be enabled when required."})})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}}}]);